<!DOCTYPE html>
<html>

<head>
    <%- include('../partials/head') %>
</head>

<body>
    <%- include('../partials/nav') %>

        <div class="container mb-3">

            <nav aria-label="breadcrumb">
                <ol class="breadcrumb p-1 pl-2 pr-2">
                    <li class="breadcrumb-item"><a href="/">Home</a></li>
                    <li class="breadcrumb-item"><a href="/posts">Board</a></li>
                    <li class="breadcrumb-item active" aria-current="page">New Post</li>
                </ol>
            </nav>

            <form action="/posts<%= getPostQueryString() %>" enctype="multipart/form-data" method="post">

                <div class="form-group">
                    <label for="title">Title</label>
                    <input type="text" id="title" name="title" value="<%= post.title %>"
                        class="form-control <%= (errors.title)?'is-invalid':'' %>">
                    <% if(errors.title){ %>
                        <span class="invalid-feedback">
                            <%= errors.title.message %>
                        </span>
                        <% } %>
                </div>

                <div class="form-group">
                    <label for="attachment">Attachment</label>
                    <input type="file" name="attachment" class="form-control-file" id="attachment">
                </div>

                <div class="form-group">
                    <label for="body">Body</label>
                    <textarea id="body" name="contents" rows="5"
                        class="form-control <%= (errors.contents)?'is-invalid':'' %>"><%= post.contents %></textarea>
                    <% if(errors.contents){ %>
                        <span class="invalid-feedback">
                            <%= errors.contents.message %>
                        </span>
                        <% } %>
                </div>

                <% if(errors.unhandled){ %>
                    <div class="invalid-feedback d-block">
                        <%= errors.unhandled %>
                    </div>
                    <% } %>

                        <div>
                            <a class="btn btn-primary" href="/posts<%= getPostQueryString() %>">이전</a>
                            <button type="submit" class="btn btn-primary">작성완료</button>
                        </div>

            </form>

        </div>
</body>

</html>